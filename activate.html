<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<title>تفعيل الضمان</title>

<style>
body{font-family:tahoma;background:#f4f6fa;text-align:center}
.box{background:#fff;padding:20px;margin:40px auto;border-radius:10px;width:90%;max-width:450px;
box-shadow:0 3px 10px rgba(0,0,0,.1)}
input,select{padding:10px;width:90%;margin:8px}
button{padding:10px 18px;background:#2196F3;color:#fff;border:0;border-radius:5px}
#msg{margin-top:15px}
</style>
</head>

<body>
<div class="box">
  <h2>تفعيل الضمان</h2>

  <input id="invoice" placeholder="رقم الفاتورة">
  <input id="name" placeholder="اسم الزبون">
  <input id="phone" placeholder="رقم الهاتف">
  <input id="type" placeholder="نوع القطعة">
  <input id="start" type="date">

  <button onclick="save()">تسجيل</button>

  <div id="msg"></div>
</div>

<script>
const API = "https://script.google.com/macros/s/AKfycby42AZQl-sbgkUXartnlq2kkQM7IHzLLq1gB2pjxezR_pqdm3kWtZbZGDN-LGbT24Y9/exec";

async function save(){
  let data = {
    invoice: invoice.value,
    name: name.value,
    phone: phone.value,
    type: type.value,
    start: start.value
  };

  let res = await fetch(API,{
    method:"POST",
    body: JSON.stringify(data)
  });

  let out = await res.json();

  if(out.ok){
    msg.innerHTML = "✔️ تم تسجيل الضمان بنجاح";
  }else{
    msg.innerHTML = "❌ " + out.msg;
  }
}
</script>
</body>
</html>
